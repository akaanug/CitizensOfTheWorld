/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package gui;

import java.awt.*;  
import java.awt.event.*;
import javax.swing.*;
import mainCode.*;
import mainCode.pictureClasses.*;
import util.*;
import java.util.Observer;
import java.util.Observable;

/**
 * Country info page
 * @version 12.05.2019
 * @author kaan.uguralp-ug
 */
public class CountryInfo extends javax.swing.JPanel implements Observer {
   
   //properties
   Game game;
   ResizablePicture countryPicture;
   
   //constructors
   /**
    * Creates new form CountryInfo
    */
   public CountryInfo( Game game ) 
   {
      this.game = game;
      
      game.addObserver( this );
      
      initComponents();
      handleActionListeners();
      
      setVisible( false );
   }
   //methods
   
   // Listener Classes 
   
   // Pay Accomodation Fee Button Listener 
   public class PayAccomodationFeeBtnListener implements ActionListener
   { 
      @Override
      public void actionPerformed( ActionEvent evt )
      {
         game.payAccomodationFee();
      }
   }
   
   // Get Citizenship Button Listener 
   public class GetCitizenshipBtnListener implements ActionListener
   { 
      @Override
      public void actionPerformed( ActionEvent evt )
      {
         game.getCitizenship();
      }
   }
   
   //adding action listeners
   public void handleActionListeners()
   {
      payAccomodationFee.addActionListener( new PayAccomodationFeeBtnListener() );
      getCitizenship.addActionListener( new GetCitizenshipBtnListener() );
   }
   
   //update method
   public void update( Observable obs, Object obj )
   {
      if ( game.getStage().equals( "country info" ) )
      {
         Country c = game.getCurrentLocation();
         
         countryName.setText( c.getName() );
         accomodationFee.setText( "Accomodation Fee: " + c.getAccomodationFee()  );
         citizenshipFee.setText( "Citizenship Fee: " + 30 );
         income.setText( "Income: " + c.getTax() );
         countryPicture.setPicture( c.getPicture() );
         
//      if ( countries.size() < p.getNumberOfCountries() )
//      {
//         createCountryPanel( p.getLastCountry() );
//      }
      }
      
      setVisible( game.getStage().equals( "country info" ) );
   }   
   
   /**
    * This method is called from within the constructor to initialize the form.
    * WARNING: Do NOT modify this code. The content of this method is always
    * regenerated by the Form Editor.
    */
   // creating components of CountryInfo page
   @SuppressWarnings("unchecked")
   // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
      private void initComponents() {
      
      countryPicture = new CountryPicture();
      countryPic = new javax.swing.JLabel();
      countryPic.add( countryPicture );
      
      countryName = new javax.swing.JLabel();
      accomodationFee = new javax.swing.JLabel();
      citizenshipFee = new javax.swing.JLabel();
      income = new javax.swing.JLabel();
      payAccomodationFee = new javax.swing.JButton();
      getCitizenship = new javax.swing.JButton();
      
      setBackground(new java.awt.Color(102, 255, 255));
      
      countryName.setFont(new java.awt.Font("Gisha", 1, 24)); // NOI18N
      countryName.setForeground(new java.awt.Color(0, 102, 102));
      countryName.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
      countryName.setText("countryName");
      countryName.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
      countryName.setDebugGraphicsOptions(javax.swing.DebugGraphics.NONE_OPTION);
      
      countryPic.setText("countryPicture");
      
      accomodationFee.setFont(new java.awt.Font("Gisha", 0, 24)); // NOI18N
      accomodationFee.setForeground(new java.awt.Color(0, 102, 102));
      accomodationFee.setText("Acc fee");
      
      citizenshipFee.setFont(new java.awt.Font("Gisha", 0, 24)); // NOI18N
      citizenshipFee.setForeground(new java.awt.Color(0, 102, 102));
      citizenshipFee.setText("citizenshipFee");
      
      income.setFont(new java.awt.Font("Gisha", 0, 24)); // NOI18N
      income.setForeground(new java.awt.Color(0, 102, 102));
      income.setText("income");
      
      payAccomodationFee.setFont(new java.awt.Font("Gisha", 0, 18)); // NOI18N
      payAccomodationFee.setForeground(new java.awt.Color(0, 0, 102));
      payAccomodationFee.setText("Pay Accomodation Fee");
      payAccomodationFee.setBorder(null);
      payAccomodationFee.setCursor(new java.awt.Cursor(java.awt.Cursor.CROSSHAIR_CURSOR));
      
      getCitizenship.setFont(new java.awt.Font("Gisha", 0, 18)); // NOI18N
      getCitizenship.setForeground(new java.awt.Color(0, 0, 102));
      getCitizenship.setText("Get Citizenship");
      getCitizenship.setBorder(null);
      getCitizenship.setCursor(new java.awt.Cursor(java.awt.Cursor.CROSSHAIR_CURSOR));
      
      javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
      this.setLayout(layout);
      layout.setHorizontalGroup(
                                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                   .addGroup(layout.createSequentialGroup()
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                             .addGroup(layout.createSequentialGroup()
                                                                          .addContainerGap()
                                                                          .addComponent(payAccomodationFee, javax.swing.GroupLayout.PREFERRED_SIZE, 233, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                                          .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                                          .addComponent(getCitizenship, javax.swing.GroupLayout.PREFERRED_SIZE, 241, javax.swing.GroupLayout.PREFERRED_SIZE))
                                                             .addGroup(layout.createSequentialGroup()
                                                                          .addGap(95, 95, 95)
                                                                          .addComponent(countryPic, javax.swing.GroupLayout.PREFERRED_SIZE, 301, javax.swing.GroupLayout.PREFERRED_SIZE))
                                                             .addGroup(layout.createSequentialGroup()
                                                                          .addGap(58, 58, 58)
                                                                          .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                                                                       .addComponent(countryName, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                                                       .addComponent(accomodationFee, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                                                       .addComponent(citizenshipFee, javax.swing.GroupLayout.DEFAULT_SIZE, 376, Short.MAX_VALUE)
                                                                                       .addComponent(income, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                               );
      layout.setVerticalGroup(
                              layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                 .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                              .addGap(6, 6, 6)
                                              .addComponent(countryPic, javax.swing.GroupLayout.DEFAULT_SIZE, 198, Short.MAX_VALUE)
                                              .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                              .addComponent(countryName, javax.swing.GroupLayout.PREFERRED_SIZE, 51, javax.swing.GroupLayout.PREFERRED_SIZE)
                                              .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                              .addComponent(accomodationFee, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                                              .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                              .addComponent(citizenshipFee)
                                              .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                              .addComponent(income)
                                              .addGap(30, 30, 30)
                                              .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                           .addComponent(payAccomodationFee, javax.swing.GroupLayout.PREFERRED_SIZE, 71, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                           .addComponent(getCitizenship, javax.swing.GroupLayout.PREFERRED_SIZE, 71, javax.swing.GroupLayout.PREFERRED_SIZE))
                                              .addGap(31, 31, 31))
                             );
   }// </editor-fold>                        
   
   
   // Variables declaration - do not modify                     
   private javax.swing.JLabel accomodationFee;
   private javax.swing.JLabel citizenshipFee;
   private javax.swing.JLabel countryName;
   private javax.swing.JLabel countryPic;
   private javax.swing.JButton getCitizenship;
   private javax.swing.JLabel income;
   private javax.swing.JButton payAccomodationFee;
   // End of variables declaration                   
}
