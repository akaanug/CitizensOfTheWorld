


/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package gui;

import java.awt.*;  
import java.awt.event.*;
import javax.swing.*;
import mainCode.*;
import java.util.Observer;
import java.util.Observable;
import java.util.ArrayList;

/**
 *
 * @author kaan.uguralp-ug
 */
public class PlayerInfo extends javax.swing.JPanel implements Observer{
   
   Player p;
   Game game;
   ArrayList<JPanel> countries;
   
   /**
    * Creates new form PlayerInfoJ
    */
   
   public PlayerInfo( Game game, int playerNo ) {
      
      this.game = game;
      p = game.getPlayer( playerNo );
      
      p.addObserver( this );
      countries = new ArrayList<JPanel>();
      
      initComponents();
      countriesPanel.setLayout( new BoxLayout( countriesPanel, BoxLayout.Y_AXIS  ) );
      setVisible( false );
   }
   
   /**
    * This method is called from within the constructor to initialize the form.
    * WARNING: Do NOT modify this code. The content of this method is always
    * regenerated by the Form Editor.
    */
   @SuppressWarnings("unchecked")
   // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
      private void initComponents() {
      
      playerName = new javax.swing.JLabel();
      currentMoney = new javax.swing.JLabel();
      revenue = new javax.swing.JLabel();
      nationality = new javax.swing.JLabel();
      countriesPanel = new javax.swing.JPanel();
      location = new javax.swing.JLabel();
      
      setBackground(new java.awt.Color(102, 255, 255));
      
      playerName.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
      playerName.setForeground(new java.awt.Color(0, 0, 102));
      playerName.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
      playerName.setText( "Nickname: " + p.getName() );
      
      currentMoney.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
      currentMoney.setText("currentMoney");
      
      revenue.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
      revenue.setText("revenue");
      
      nationality.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
      nationality.setText( "Nationality: " + game.getLocationOfPlayer( p ).getName() );
      
      countriesPanel.setBackground(new java.awt.Color(102, 255, 255));
      
      javax.swing.GroupLayout countriesPanelLayout = new javax.swing.GroupLayout(countriesPanel);
      countriesPanel.setLayout(countriesPanelLayout);
      countriesPanelLayout.setHorizontalGroup(
                                              countriesPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                 .addGap(0, 0, Short.MAX_VALUE)
                                             );
      countriesPanelLayout.setVerticalGroup(
                                            countriesPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                               .addGap(0, 72, Short.MAX_VALUE)
                                           );
      
      location.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
      location.setText("location");
      
      javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
      this.setLayout(layout);
      layout.setHorizontalGroup(
                                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                   .addComponent(playerName, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                   .addComponent(countriesPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                   .addGroup(layout.createSequentialGroup()
                                                .addGap(10, 10, 10)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                             .addComponent(location, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                             .addComponent(revenue, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                             .addComponent(currentMoney, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 290, Short.MAX_VALUE)
                                                             .addComponent(nationality, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                               );
      layout.setVerticalGroup(
                              layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                 .addGroup(layout.createSequentialGroup()
                                              .addComponent(playerName, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE)
                                              .addGap(3, 3, 3)
                                              .addComponent(currentMoney, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                                              .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                              .addComponent(nationality, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                                              .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                              .addComponent(revenue)
                                              .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                              .addComponent(location, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                                              .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                              .addComponent(countriesPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                              .addGap(0, 11, Short.MAX_VALUE))
                             );
   }// </editor-fold>   
   
   public void createCountryPanel( Country c )
   {
      JPanel panel = new JPanel();
      
      panel.add( new JLabel( c.getName() ) );
      panel.add( new JLabel( c.getTax() + "" ) );
      
      countries.add( panel );
      countriesPanel.add( panel );
   }
   
   public void update( Observable obs, Object obj )
   {
      currentMoney.setText( "Money: " + p.getMoney()  );
      revenue.setText( "Revenue: " + p.getRevenue() );
      
      if ( countries.size() < p.getNumberOfCountries() )
      {
         createCountryPanel( p.getLastCountry() );
      }
   }
   // Variables declaration - do not modify                     
   private javax.swing.JPanel countriesPanel;
   private javax.swing.JLabel currentMoney;
   private javax.swing.JLabel location;
   private javax.swing.JLabel nationality;
   private javax.swing.JLabel playerName;
   private javax.swing.JLabel revenue;
   // End of variables declaration                   
}